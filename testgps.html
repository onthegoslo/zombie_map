<html>
<head>
<title>Test GPS</title>
<style>
		#zombie_map {
			width: 600px;
			height: 400px;
			background-color: grey;
		}
</style>
</head>

<body>

<div id="zombie_map"></div>


<script>
  var zombie_map;
  var old_position;
  function initMap() {

            zombie_map = new google.maps.Map(document.getElementById('zombie_map'), {
            	zoom: 15,
            	center: {lat: 51.084655, lng: -1.173108}
	    });
	    var icon = "https://onthegoslo.github.io/zombie_map/mylocation.png";
	    old_position = new google.maps.Marker({
		  position: {lat: 51.084655, lng: -1.173108},
		  map: zombie_map,
		  icon: icon
	    });	
	  
	  	if(navigator.geolocation) {
			navigator.geolocation.watchPosition(set_my_position);
		}
	  	else {
			alert("Not here you don't");
		}
    }
  function set_my_position(position) {
	  old_position.setMap(null);
	  var pos = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
	  var icon = "https://onthegoslo.github.io/zombie_map/mylocation.png";
	  var marker = new google.maps.Marker({
		  position: pos,
		  map: zombie_map,
		  icon: icon
	  });
	  old_position = marker;
  }
</script>


<script async defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCGJ6i8D82sVYrLJ9rzbg9kezQFm9rCOsY&callback=initMap">
</script>
</body>
</html>
